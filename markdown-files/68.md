# Code Documentation

## Code
```cpp
#include <iostream>
using namespace std;

class cls2;

class cls1 {
public:
    int vi;
    cls1(int v = 30) { vi = v; }
    cls1(cls2 p) { vi = p.vi; }
};

class cls2 {
public:
    int vi;
    cls2(int v = 20) { vi = v; }
};

cls1 f(cls1 p)
{
    p.vi++;
    return p;
}

void main()
{
    cls1 p;
    f(p);
    cout << endl
         << p.vi;
    cls2 r;
    f(r);
    cout << endl
         << r.vi;
}
```

## Output
```
Compilation Error:
C:\Users\drago\Downloads\mihainsto FMI master Year%201%20Sem%202-pooExamQuestions_probleme\Year 1 Sem 2\pooExamQuestions\probleme\68.cpp: In constructor 'cls1::cls1(cls2)':
C:\Users\drago\Downloads\mihainsto FMI master Year%201%20Sem%202-pooExamQuestions_probleme\Year 1 Sem 2\pooExamQuestions\probleme\68.cpp:11:15: error: 'p' has incomplete type
     cls1(cls2 p) { vi = p.vi; }
               ^
C:\Users\drago\Downloads\mihainsto FMI master Year%201%20Sem%202-pooExamQuestions_probleme\Year 1 Sem 2\pooExamQuestions\probleme\68.cpp:5:7: note: forward declaration of 'class cls2'
 class cls2;
       ^~~~
C:\Users\drago\Downloads\mihainsto FMI master Year%201%20Sem%202-pooExamQuestions_probleme\Year 1 Sem 2\pooExamQuestions\probleme\68.cpp: At global scope:
C:\Users\drago\Downloads\mihainsto FMI master Year%201%20Sem%202-pooExamQuestions_probleme\Year 1 Sem 2\pooExamQuestions\probleme\68.cpp:26:11: error: '::main' must return 'int'
 void main()
           ^
```

## Concepts Used

### [[Class and Object concepts]] ðŸ¢
- The code defines two classes, `cls1` and `cls2`, which are blueprints for creating objects.
- `cls1` has a constructor that initializes its `vi` data member.
- `cls2` also has a constructor that initializes its `vi` data member.

### [[Constructors]] ðŸ—ï¸
- `cls1` has two constructors:
  - One that takes an integer and initializes `vi` with it.
  - Another that takes an object of type `cls2` and initializes `vi` with the `vi` of the `cls2` object.
- `cls2` has a constructor that takes an integer and initializes `vi` with it.

### [[Data Members]] ðŸ“Š
- Both `cls1` and `cls2` have a public integer data member `vi`.

### [[Encapsulation]] ðŸ›¡ï¸
- The data members are public, which means they can be accessed directly from outside the class. This is not a good practice as it violates the principle of encapsulation, which suggests that data members should be private and accessed through public methods.

### [[Incomplete Type]] ðŸš«
- The error message indicates that `cls2` is an incomplete type when used in the constructor of `cls1`. This is because `cls2` is only forward-declared, and the compiler doesn't know its full definition when it tries to use it in the constructor.

### [[Main Function]] ðŸŽ¯
- The `main` function is incorrectly defined as `void main()`. In C++, the `main` function must return an `int`.

## Issues and Fixes

### Incomplete Type Error
- The error occurs because `cls2` is only forward-declared, and the compiler doesn't have the full definition of `cls2` when it tries to use it in the constructor of `cls1`.
- **Fix**: Move the definition of `cls2` above `cls1`.

### Incorrect `main` Function
- The `main` function is defined as `void main()`, which is incorrect.
- **Fix**: Change `void main()` to `int main()`.

## Corrected Code
```cpp
#include <iostream>
using namespace std;

class cls2 {
public:
    int vi;
    cls2(int v = 20) { vi = v; }
};

class cls1 {
public:
    int vi;
    cls1(int v = 30) { vi = v; }
    cls1(cls2 p) { vi = p.vi; }
};

cls1 f(cls1 p)
{
    p.vi++;
    return p;
}

int main()
{
    cls1 p;
    f(p);
    cout << endl
         << p.vi;
    cls2 r;
    f(r);
    cout << endl
         << r.vi;
    return 0;
}
```

## Explanation of the Corrected Code

### [[Class and Object concepts]] ðŸ¢
- `cls2` is defined before `cls1`, so the compiler knows its full definition when it is used in the constructor of `cls1`.

### [[Constructors]] ðŸ—ï¸
- The constructors for both `cls1` and `cls2` are correctly defined and used.

### [[Data Members]] ðŸ“Š
- The data member `vi` is accessed and modified within the classes and functions.

### [[Encapsulation]] ðŸ›¡ï¸
- Although the data members are still public, the code now compiles and runs correctly.

### [[Main Function]] ðŸŽ¯
- The `main` function now correctly returns an `int`.

## Simpler Example to Illustrate [[Incomplete Type]] ðŸš«

```cpp
class B;  // Forward declaration

class A {
public:
    B* b;  // Pointer to B is allowed
    A() { b = new B(); }  // Error: Incomplete type
};

class B {
public:
    int value;
    B() : value(10) {}
};

int main() {
    A a;
    return 0;
}
```

### Explanation
- In this example, `B` is forward-declared, so `A` can have a pointer to `B`, but it cannot create an instance of `B` because the compiler doesn't know the full definition of `B` at that point.
- **Fix**: Move the definition of `B` above `A`.

```cpp
class B {
public:
    int value;
    B() : value(10) {}
};

class A {
public:
    B* b;
    A() { b = new B(); }  // Now it works
};

int main() {
    A a;
    return 0;
}
```

This example shows how forward declarations work and why the full definition is needed when creating instances of a class.